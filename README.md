## 关于
在日常开发过程中，需要经常使用`tail`和`grep`来实时查看日志。
但是，如果日志内容太多，加上`grep`使用正则表达式或其他未知的原因，有时候日志会延后5-10秒后显示。

## 特性和实现
1. 特性：解决日志太多，出现显示延后的情况；
	实现：用 shell 的 `=~` 进行字符匹配，其中不能含有正则表达式；
2.  特性：解决`grep`多文件的时候，无内容但是被文件名刷屏的问题； 
	实现：添加换行标记，如果没有匹配内容行尾输出`\r`即可，表示为不换行显示;
	**知识点：在 LINUX 终端中约定，结尾是`\r`在同一行显示，结尾是`\n`则换行显示；**

## 如何使用
将后边源码保存为`mlf.sh`文件，然后运行：
```bash
sh mlf.sh 'FILTER[|FILTER]' [FILE...]
```
此外，可在源码中的`setting`后边设置默认的日志文件，这样就可以简化为：
```bash
sh mlf.sh 'FILTER[|FILTER]'
```

## 关于打印日志的建议
在做某个功能模块的时候，可在日志开头加入一些关键字，再配合此脚本食用则更佳，此外关键字尽量短且不重复。
例如，在演武场所有的日志中我都加了`[PVPD]`作为关键字，如下：
```cpp
LOG_DBG("[PVPD] pvpdeduction room init done");
```
然后，查看日志时：
```bash
sh mlf.sh PVPD
```
